define("mip-ad/mip-ad-baidu",["require","zepto","fixed-element"],function(e){function t(){var e=document.getElementById(o);if(e)return e;var t=document.createElement("script");return t.src=d,t.id=o,document.body.appendChild(t),t}function i(t,i,r,n){var d="_"+Math.random().toString(36).slice(2),o='<div style="" id="'+d+'"></div>';if(t.append(o),(window.slotbydup=window.slotbydup||[]).push({id:i,container:d,display:"inlay-fix",exps:p,async:!0}),n){var a=e("fixed-element"),l=a._fixedLayer,c=document.getElementById(d);c.addEventListener("DOMSubtreeModified",function(e){var i=window.getComputedStyle(c,null),r=i&&i.getPropertyValue("position")?i.getPropertyValue("position"):"";if(!l||!l.querySelector("#"+d))if("fixed"===r)if(t.append(document.getElementById(d)),l){var n=document.querySelectorAll("mip-fixed").length,o={element:c.parentElement,id:"Fixed"+n};a.moveToFixedLayer(o,parseInt(n,10))}},!1)}r.applyFillContent(document.getElementById(d),!0)}function r(e){return"SCRIPT"===e.tagName&&e.getAttribute("type")&&"APPLICATION/JSON"===e.getAttribute("type").toUpperCase()}var n=e("zepto"),d="//dup.baidustatic.com/js/dm.js",o="MIP_DUP_JS",p="113002";return{render:function(e,a){var l=n(e),c=MIP.hash.get("sample");if("mip_test_sample"===c)p="113004";var u=e.getAttribute("cproid");if(u){var s=e.querySelector("script")||null;if(document.querySelector('script[mip-preload="mip-script-wm"]')&&!s&&"mip_test_sample"===c){alert("广告优化逻辑生效");var m="_"+Math.random().toString(36).slice(2),y='<div style="" id="'+m+'"></div>';l.append(y);var f="__container_api_";(window[f]=window[f]||[]).push({containerId:m,exps:p,slotId:u})}else{if(s)if(r(s)){d="//cpro.baidustatic.com/cpro/ui/c.js",o="MIP_DUP_JS_EXT";var v=JSON.parse(s.textContent.toString());(window.cproArray=window.cproArray||[]).push({id:u}),(window.cproStyleApi=window.cproStyleApi||{})[u]=v}var w=t();if(!s)i(l,u,a,w)}}}}});