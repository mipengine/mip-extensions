/*! version: 1.3.0 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.webb2=t():e.webb2=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";function o(e,t){var n=new Image,o=i();window[o]=n,n.onload=function(){t&&t(),delete window[o]},n.onerror=function(e){t&&t(e),delete window[o]},n.src=e}function i(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function r(e,t){if(!t||"object"!==(void 0===t?"undefined":l(t)))return e;for(var n=Object.keys(t),o=n.length;o--;)e[n[o]]=t[n[o]];return e}function u(e){return Object.keys(e).map(function(t){var n=e[t];return void 0===n?n="":"string"!=typeof n&&(n=JSON.stringify(n)),encodeURIComponent(t)+"="+encodeURIComponent(n)}).join("&")}function c(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++){var n=e[t]+"Hidden";if(n in document)return n}return null}function f(){return{x:document.body.scrollLeft||document.documentElement.scrollLeft,y:document.body.scrollTop||document.documentElement.scrollTop}}function d(e){p&&(document.addEventListener(m,e),document.addEventListener(y,e))}function a(e){document.removeEventListener(m,e),document.removeEventListener(y,e)}function s(e){return e&&"hidden"in e?e.hidden:document[p]}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.sendLog=o,t.guid=i,t.extend=r,t.stringify=u,t.getHiddenProp=c,t.getScrollInfo=f,t.bindVisibilityChangeEvent=d,t.disposeVisibilityChangeEvent=a,t.getPageHiddenValue=s;var p=c(),m=p.replace(/hidden/i,"visibilitychange"),y="baiduboxappvisibilitychange"},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),c="https://sp1.baidu.com/5b1ZeDe5KgQFm2e88IuM_a/mwb2.gif";"http:"===location.protocol&&(c="http://sestat.baidu.com/mwb2.gif");var f=function(){function e(t){o(this,e);var n={logHost:c,sample:0};this.validateOptions(t),this.options=(0,u.extend)(n,t),this.random=Math.random()}return r(e,[{key:"validateOptions",value:function(e){var t=["pid","lid"];if("object"!==(void 0===e?"undefined":i(e)))throw new Error("Options must be an object!");if(!t.every(function(t){return t in e}))throw new Error("Options "+t.join(", ")+" required")}},{key:"updateOption",value:function(e){this.options=(0,u.extend)(this.options,e)}},{key:"wrapCommonParam",value:function(e,t){return{pid:this.options.pid,lid:this.options.lid,ts:Date.now(),type:e,info:t}}},{key:"hitSample",value:function(e){var t=this.options[e],n=+(t&&t.sample>=0?t.sample:this.options.sample);return this.random<=n}},{key:"send",value:function(e,t,n,o){if(this.hitSample(e)){var i=this.wrapCommonParam(e,t);(0,u.extend)(i,o);var r=(0,u.guid)(),c=window[r]=new Image;c.onload=function(e){n&&n(e),delete window[r]};var f=this.options,d=f[e]&&f[e].logHost?f[e].logHost:f.logHost;c.src=d+"?"+(0,u.stringify)(i)}}}]),e}();t.default=f,e.exports=t.default}])});