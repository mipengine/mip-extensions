(window.MIP=window.MIP||[]).push({name:"mip-mz-appdownload",func:function(){define("mip-mz-appdownload/mip-mz-appdownload",["require","zepto","util","fetch-jsonp","customElement"],function(t){function e(t,e,n,s){if(l.isIos()){var a=e.substring(0,e.length-5);if(""!==s.ios[1].url&&o(s.vnpids,a))return'<a href="'+s.ios[1].url+'" class="gsdbtn">'+s.ios[0].btnvalue+"</a>";else return'<a href="'+i(e,n)+'" class="gsdbtn confirmios">'+s.ios[0].btnvalue+"</a>"}if(t>0)if(s.android.length>0){r(".down").css("height","90px");for(var c=0,u=0;u<s.android.length;++u)if(!localStorage.getItem(s.android[u].id)){c=u;break}return'<input type="checkbox" id="ckb" class="ckb" checked="checked"><span>'+s.android[c].name+'</span><a href="'+s.android[c].url+'" id="gsdbtn" presentid="'+s.android[c].id+'" class="gsdbtn">'+s.android[c].btnvalue+'</a><p id="yybtext" class="yybtext">'+s.android[c].info+"</p>"}return'<a href="'+i(e,n)+'" class="gsdbtn">本地下载</a>'}function i(t,e){return 0===e.length?u+t:e}function n(t,e,n){for(var o=document.getElementById("ckb"),s=r(".yybtext"),a=document.getElementById("gsdbtn"),l=0,c=0;c<n.length;++c)if(!localStorage.getItem(n[c].id)){l=c;break}if(o.checked)s.css("color","black"),document.querySelector("#down span").innerText=n[l].name,a.setAttribute("href",n[l].url),a.innerText=n[l].btnvalue,s.innerText=n[l].info;else s.css("color","red"),document.querySelector("#down span").innerText=n[l].name,a.setAttribute("href",i(t,e)),a.innerText=n[l].ubtnvalue,s.innerText=n[l].uinfo}function o(t,e){for(var i=t.length;i--;)if(t[i]===e)return!0;return!1}var r=t("zepto"),s=t("util"),a=t("fetch-jsonp"),l=s.platform,c=t("customElement").create(),u="http://m.muzisoft.com/mz/";return c.prototype.createdCallback=function(){function t(t){var i=e(s,l,c,t);r(".down ul li").append(i),r(".ckb").click(function(){n(l,c,t.android)}),r(".gsdbtn").click(function(){if(t.android.length>0)for(var e=0;e<t.android.length;++e){var i=e===t.android.length-1?0:e+1;if(r(".gsdbtn").attr("presentid")===t.android[e].id)localStorage.removeItem(t.android[i].id);else localStorage.setItem(t.android[i].id,1)}}),r(".confirmios").click(function(){if(""!==t.ios[0].url)if(confirm(t.ios[0].name))return window.location.href=t.ios[0].url,!1})}var i=this.element,o=r(i),s=o.attr("ad"),l=o.attr("aid"),c=o.attr("addr"),u=o.attr("ajaxurl");a(u,{timeout:3e3,jsonpCallback:"ck"}).then(function(t){return t.json()}).then(t)},c}),define("mip-mz-appdownload",["mip-mz-appdownload/mip-mz-appdownload"],function(t){return t}),function(){function t(t,e){t.registerMipElement("mip-mz-appdownload",e)}if(window.MIP)require(["mip-mz-appdownload"],function(e){t(window.MIP,e)});else require(["mip","mip-mz-appdownload"],t)}()}});