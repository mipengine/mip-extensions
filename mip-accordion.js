(window.MIP=window.MIP||[]).push({name:"mip-accordion",func:function(){define("mip-accordion/mip-accordion",["require","customElement","zepto"],function(e){function t(e){var t=this,n="MIP-"+e+"-"+c,i=a(n);for(var o in i){if(!i.hasOwnProperty(o))return;if(i[o]){var s=r("#"+o,t);s.attr("aria-expanded","open"),s.parents("section").attr("expanded","open")}}}function n(e){r(e).on("click",".mip-accordion-header",function(){var t=r(this).attr("aria-controls"),n=r("#"+t),a=n.attr("aria-expanded"),o=r(this).parents("section").find(".show-more"),c=r(this).parents("section").find(".show-less");if("open"===a){if(n.attr("aria-expanded","close"),r(this).parents("section").removeAttr("expanded"),o.length&&c.length)o.css("display","block"),c.css("display","none");i(e,t,!1)}else{if(e.hasAttribute("expaned-limit"))for(var s=e.querySelectorAll("section"),d=0;d<s.length;d++){var l=s[d].querySelector(".mip-accordion-content"),u=s[d].querySelector(".mip-accordion-header"),f=u.getAttribute("aria-controls");s[d].removeAttribute("expanded"),l.removeAttribute("aria-expanded"),i(e,f,!1)}if(n.attr("aria-expanded","open"),r(this).parents("section").attr("expanded","open"),o.length&&c.length)c.css("display","block"),o.css("display","none");i(e,t,!0)}})}function i(e,t,n){var i="MIP-"+e.getAttribute("sessions-key")+"-"+c,o=a(i);o[t]=n,sessionStorage[i]=JSON.stringify(o)}function a(e){var t=sessionStorage[e];return t?JSON.parse(t):{}}var o=e("customElement").create(),r=e("zepto"),c=location.href;return o.prototype.firstInviewCallback=function(){var e=this,o=this.element;if(this.type=r(o).attr("type")||"automatic",this.sections=r(o).find("section"),this.id=r(o).attr("sessions-key"),this.element.setAttribute("role","tablist"),this.currentState=a.call(this),this.sections.map(function(t,n){var a=r(n).find("[accordionbtn]"),c=r(n).find("[accordionbox]");if(!a.length||!c.length)a=r(n.children.item(0)),c=a.next();a.addClass("mip-accordion-header"),c.addClass("mip-accordion-content");var s=c.attr("id");if(!s)s="MIP_"+e.id+"_content_"+t,c.attr({id:s});if(e.currentState[s])n.attr("expanded","");else if(!1===e.currentState[s])n.removeAttribute("expanded");if("manual"===e.type&&n.hasAttribute("expanded"))c.attr("aria-expanded","open"),i(o,r(o).attr("aria-controls"),!0);else if("automatic"===e.type)c.attr("aria-expanded",n.hasAttribute("expanded").toString());a.attr("aria-controls",s)}),"automatic"===e.type)t.call(o,this.id);n(o)},o}),define("mip-accordion",["mip-accordion/mip-accordion"],function(e){return e}),function(){function e(e,t){e.registerMipElement("mip-accordion",t,'.mip-accordion-content{display:none !important}.mip-accordion-content[aria-expanded="open"]{display:block !important}mip-accordion section[expanded=open] .show-more{display:none !important}mip-accordion section .show-more{display:block}mip-accordion section .show-less{display:none}mip-accordion section[expanded=open] .show-less{display:block}')}if(window.MIP)require(["mip-accordion"],function(t){e(window.MIP,t)});else require(["mip","mip-accordion"],e)}()}});